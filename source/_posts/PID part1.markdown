title: PID part1
date: 2015-08-06 16:40:43
categories:
- 凊筠什么的最厌学了
- 单片机
tags: PID
---

>**PID整定口诀**
参数整定找最佳，从小到大顺序查。
先是比例后积分，最后再把微分加。
曲线振荡很频繁，比例度盘要放大。
曲线漂浮绕大弯，比例度盘往小扳。
曲线偏离回复慢，积分时间往下降。
曲线波动周期长，积分时间再加长。
曲线振荡频率快，先把微分降下来。
动差大来波动慢，微分时间应加长。
理想曲线两个波，前高后低四比一。
一看二调多分析，调节质量不会低。

<!-- more -->

#调节器#
调节器是人的大脑，是一个调节系统的核心。任何一个控制系统，只要具备了带有PID的大脑或者说是控制方法，那它就是自动调节系统。
基本的调节器具有两个`输入量`：被测量和设定值。
被调量就是反应被调对象的实际波动的量值。
设定值是人们期望被调量需要达到的值。
基本的调节器至少有一个模拟量`输出`。大脑根据情况运算之后要发布命令了，它发布一个精确的命令让执行机构去按照它的要求动作。

以上三个量，可精简为两个：输入偏差和输出指令。

#PID#
P：比例，输入偏差乘以一个系数；
I：积分，对输入偏差进行积分运算；
D：微分，对输入偏差进行微分运算。

即：先把系统调为纯比例作用，然后增强比例作用让系统震荡，记录下比例作用和振荡周期，然后将这个比例作用乘以0.6，积分用作适当延长。


$K_p=0.6K_m$
$K_d=\frac{K_pπ}{4\omega}$
$K_i=\frac{K_p\omega}{\pi}$

其中：
- $K_p$为比例控制参数 
- $K_d$为积分控制参数
- $K_i$为微分控制参数
- $K_m$为系统开始振荡时的比例值
- $\omega$为极坐标下振荡时的频率

#整定参数#
##观察哪些曲线##
- 设定值。作为比较判断依据；
- 被测量波动曲线。
- PID输出
如果是串级调节系统，我们还要收集
- 副调的被测量曲线
- PID输出曲线

##整定参数##
整定参数的方法有理论计算法和实验试凑法（->趋势读定法）。

`趋势读定法`三要素：设定值、被测量、输出。

##几个基本概念##
- 单回路：只有一个PID
- 串级：多个PID串接
- 主调：串级系统中，要调节被调量的PID
- 副调：串级系统中，输出直接去只为执行器动作的那个PID叫做副调。主调的输出进入副调作为副调的设定值。
> 一般来说，主调为了调节被调量，副调为了消除干扰。
- 正作用
- 副作用
- 动态偏差
- 静态偏差：调节趋于稳定之后，被调量和设定值之前还存在的偏差叫做静态偏差。
- 回调：调节器调节作用显现，使得被调量开始由上升变为下降，或者由下降变为上升。
- 阶跃

##P纯比例作用趋势图的特征分析##
P就是比例作用，把调节器的输入偏差乘以一个系数，作为调节器的输出。
输出波动=被调量波动*比例增益
=>对于一个单回路调节系统，单纯的比例作用下，输出的波形与被调量的波形`完全相似`。

- 对于正作用的调节系统，顶点、谷底均发生在同一时刻。
- 对于负作用的调节系统，被调量的顶点就是输出的谷底，谷底就是输出的顶点。
- 对于正作用的调节系统，被调量的曲线上升，输出曲线就上升；被调量曲线下降，输出曲线就下降。两者趋势完全一样。
- 对于负作用的调节系统，被调量曲线和输出曲线相对。波动周期完全一致。
- 只要被调量变化，输出就变化；被调量不变化，不管静态偏差有多大，输出也不会变化。 

##I纯积分作用趋势图的特征分析##
I是积分作用。如果调机器的输入偏差不等于零，就让调节器的偏差按照一定的速度一直朝一个方向累加下去。
相当于一个斜率发生器。启动这个发生器的前提是调节器的输入偏差不等于0，斜率的大小与两个参数有关：输入偏差的大小积分时间。

- 输出的升降与被调量的升降无关，与输入偏差的正负有关。
- 输出的升降与被调量的大小无关。
- 输出的斜率与被调量的大小有关。 
- 被调量不管怎么变化，输出始终不会出现节跃扰动。
- 被调量达到顶点的时候，输出的变化趋势不变，速率开始减缓。
- 输出曲线达到顶点的时候，必然是输入偏差等于零的时候。

##D纯微分作用趋势图的特征分析##
D就是微分作用。被调量不懂，输出不动；被调量移动，输出马上跳。

- 对于正作用的调节系统，顶点、谷底均发生在同一时刻。
- 对于负作用的调节系统，被调量的顶点就是输出的谷底，谷底就是输出的顶点。
- 对于正作用的调节系统，被调量的曲线上升，输出曲线就上升；被调量曲线下降，输出曲线就下降。两者趋势完全一样。
- 对于负作用的调节系统，被调量曲线和输出曲线相对。波动周期完全一致。
- 只要被调量变化，输出就变化；被调量不变化，不管静态偏差有多大，输出也不会变化。 

##比例积分作用的特征曲线分析##
比例积分作用，就是在被调量波动的时候，纯比例和纯积分作用的叠加，简单的叠加。

##整定参数的几个原则##
1. 把串级调节系统孤立成两个单回路。把主、副调隔离开来，先整定一个回路，再全面考虑；
2. 至于先整定内回路还是先整定外回路，因系统而异。一般来说，对于调节周期长的系统可以先整定内回路。我们还可以手动调整系统稳定后，投入自动，先整定内回路；
3. 把相互耦合的系统解耦为几个独立的系统，在稳态下，进行参数判断。让各个系统
之间互不干扰，然后再考虑耦合；
4. 把P、I、D隔离开来。先去掉积分、微分作用，让系统变为纯比例调节方式。然后
再考虑积分，然后再考虑微分。

